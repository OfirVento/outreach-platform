(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[494],{3592:(e,t,s)=>{"use strict";s.d(t,{C:()=>c,E:()=>r});var a=s(5959),n=s(9863);let r={frontend:["React","Vue.js","Angular","Next.js","TypeScript","React Native"],backend:["Node.js","Python","Java",".NET","Go","Ruby on Rails","PHP"],devops:["AWS","Azure","GCP","Kubernetes","Docker","Terraform","CI/CD"],data:["PostgreSQL","MongoDB","Redis","Elasticsearch","Data Engineering"],other:["Full Stack","Mobile (iOS)","Mobile (Android)","AI/ML","Blockchain","QA/Testing"]},l={companyName:"Siema",whatWeDo:"We're an outsource software development agency that provides pre-vetted, senior developers for companies that need to scale their engineering teams quickly without the overhead of full-time hiring.",techStack:{frontend:["React","Vue.js","Angular","Next.js","TypeScript"],backend:["Node.js","Python","Java",".NET","Go"],devops:["AWS","Azure","GCP","Kubernetes","Docker","Terraform","CI/CD"],data:["PostgreSQL","MongoDB"],other:["Full Stack","QA/Testing"]},valueProps:["Pre-vetted senior developers (no interviewing dozens of candidates)","Start in 1-2 weeks (vs 2-3 months for full-time hire)","Flexible engagement (scale up/down as needed)","Cost-effective (no benefits, equipment, overhead)","Your timezone coverage"],caseStudies:[],toneOfVoice:"casual",senderName:"Miki Gur",senderTitle:"Head of Talent",qualification:{minCompanySize:10,maxCompanySize:500,excludeCompetitors:[],excludeIndustries:[],cooldownDays:90,workLocation:"remote",posterRequired:"any"}},i={apify:{enabled:!1,apiKey:"",actorId:"bebity/linkedin-jobs-scraper"},clay:{enabled:!0,apiKey:""},apollo:{enabled:!1,apiKey:""},hunter:{enabled:!1,apiKey:""},gemini:{enabled:!0,apiKey:"",model:"gemini-2.5-flash"},googleSheets:{enabled:!1,spreadsheetId:"",clientId:""}},o={dailyLimits:{linkedinConnections:20,linkedinMessages:50,emails:100},sequenceTiming:{firstFollowupDays:3,secondFollowupDays:7,thirdFollowupDays:14},optOutKeywords:["unsubscribe","stop","remove me","opt out","not interested"]},c=(0,a.v)()((0,n.Zr)(e=>({businessContext:l,integrations:i,safety:o,updateBusinessContext:t=>e(e=>({businessContext:{...e.businessContext,...t}})),updateIntegrations:t=>e(e=>({integrations:{...e.integrations,...t}})),updateSafety:t=>e(e=>({safety:{...e.safety,...t}})),toggleTech:(t,s)=>e(e=>{let a=e.businessContext.techStack[t],n=a.includes(s)?a.filter(e=>e!==s):[...a,s];return{businessContext:{...e.businessContext,techStack:{...e.businessContext.techStack,[t]:n}}}}),addValueProp:t=>e(e=>({businessContext:{...e.businessContext,valueProps:[...e.businessContext.valueProps,t]}})),removeValueProp:t=>e(e=>({businessContext:{...e.businessContext,valueProps:e.businessContext.valueProps.filter((e,s)=>s!==t)}})),addCaseStudy:t=>e(e=>({businessContext:{...e.businessContext,caseStudies:[...e.businessContext.caseStudies,t]}})),removeCaseStudy:t=>e(e=>({businessContext:{...e.businessContext,caseStudies:e.businessContext.caseStudies.filter((e,s)=>s!==t)}}))}),{name:"outreach-settings-v2",version:2,migrate:(e,t)=>{var s,a,n,r,c,d,u,m,x,p,g,h,b,f;let y={gemini:(null==e||null==(a=e.integrations)||null==(s=a.gemini)?void 0:s.apiKey)||"",apify:(null==e||null==(r=e.integrations)||null==(n=r.apify)?void 0:n.apiKey)||"",clay:(null==e||null==(d=e.integrations)||null==(c=d.clay)?void 0:c.apiKey)||"",apollo:(null==e||null==(m=e.integrations)||null==(u=m.apollo)?void 0:u.apiKey)||"",hunter:(null==e||null==(p=e.integrations)||null==(x=p.hunter)?void 0:x.apiKey)||""};return t<2?{businessContext:{...l,companyName:(null==e||null==(g=e.businessContext)?void 0:g.companyName)||l.companyName,whatWeDo:(null==e||null==(h=e.businessContext)?void 0:h.whatWeDo)||l.whatWeDo,senderName:(null==e||null==(b=e.businessContext)?void 0:b.senderName)||l.senderName,senderTitle:(null==e||null==(f=e.businessContext)?void 0:f.senderTitle)||l.senderTitle},integrations:{...i,gemini:{...i.gemini,apiKey:y.gemini},apify:{...i.apify,apiKey:y.apify},clay:{...i.clay,apiKey:y.clay},apollo:{...i.apollo,apiKey:y.apollo},hunter:{...i.hunter,apiKey:y.hunter}},safety:o}:e},merge:(e,t)=>({...t,...e,integrations:{...t.integrations,...null==e?void 0:e.integrations}})}))},6382:(e,t,s)=>{Promise.resolve().then(s.bind(s,9540))},9540:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ep});var a=s(5155),n=s(2115),r=s(5959),l=s(9863),i=s(6651),o=s(3581),c=s(1169),d=s(6835),u=s(4722);let m=[{id:"source",label:"Source",description:"Import LinkedIn job posts",icon:i.A,color:"#3B82F6"},{id:"qualify",label:"Qualify",description:"Filter by ICP & tech stack",icon:o.A,color:"#8B5CF6"},{id:"enrich",label:"Enrich",description:"Find contacts & emails",icon:c.A,color:"#10B981"},{id:"compose",label:"Compose",description:"Generate personalized messages",icon:d.A,color:"#F59E0B"},{id:"export",label:"Export",description:"Create SDR action sheet",icon:u.A,color:"#EF4444"}];function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"New Campaign",t=new Date().toISOString();return{id:crypto.randomUUID(),name:e,createdAt:t,updatedAt:t,steps:{source:{status:"pending"},qualify:{status:"pending"},enrich:{status:"pending"},compose:{status:"pending"},export:{status:"pending"}},currentStep:"source",sourceData:{jobs:[],totalImported:0},qualifyData:{qualifiedJobs:[],disqualifiedJobs:[],qualificationReasons:{}},enrichData:{contacts:[],enrichmentStats:{fromJobPoster:0,fromEnrichment:0,failed:0}},composeData:{messages:[],approvedCount:0},exportData:{rows:[]},stats:{totalJobs:0,qualifiedJobs:0,totalContacts:0,totalMessages:0,readyToSend:0}}}let p=(0,r.v)()((0,l.Zr)((e,t)=>({currentRun:null,runHistory:[],mode:"build",selectedJobIds:[],selectedContactIds:[],selectedMessageIds:[],setMode:t=>e({mode:t}),createNewRun:t=>{let s=x(t);e(e=>({currentRun:s,runHistory:[s,...e.runHistory].slice(0,50),selectedJobIds:[],selectedContactIds:[],selectedMessageIds:[]}))},loadRun:s=>{let{runHistory:a}=t(),n=a.find(e=>e.id===s);n&&e({currentRun:n})},deleteRun:t=>{e(e=>{var s;return{runHistory:e.runHistory.filter(e=>e.id!==t),currentRun:(null==(s=e.currentRun)?void 0:s.id)===t?null:e.currentRun}})},renameRun:t=>{e(e=>{if(!e.currentRun)return e;let s={...e.currentRun,name:t,updatedAt:new Date().toISOString()};return{currentRun:s,runHistory:e.runHistory.map(e=>e.id===s.id?s:e)}})},setCurrentStep:t=>{e(e=>e.currentRun?{currentRun:{...e.currentRun,currentStep:t}}:e)},goToNextStep:()=>{let{currentRun:s}=t();if(!s)return;let a=["source","qualify","enrich","compose","export"],n=a.indexOf(s.currentStep);n<a.length-1&&e({currentRun:{...s,currentStep:a[n+1]}})},goToPrevStep:()=>{let{currentRun:s}=t();if(!s)return;let a=["source","qualify","enrich","compose","export"],n=a.indexOf(s.currentStep);n>0&&e({currentRun:{...s,currentStep:a[n-1]}})},updateStepStatus:(t,s,a)=>{e(e=>{if(!e.currentRun)return e;let n=new Date().toISOString(),r={...e.currentRun.steps[t],status:s,error:a,..."running"===s&&{startedAt:n},..."completed"===s&&{completedAt:n}};return{currentRun:{...e.currentRun,steps:{...e.currentRun.steps,[t]:r},updatedAt:n}}})},addJobs:t=>{e(e=>{if(!e.currentRun)return e;let s=new Set(e.currentRun.sourceData.jobs.map(e=>e.id)),a=t.filter(e=>!s.has(e.id)),n=[...e.currentRun.sourceData.jobs,...a],r={...e.currentRun,sourceData:{jobs:n,totalImported:n.length},stats:{...e.currentRun.stats,totalJobs:n.length},updatedAt:new Date().toISOString()};return{currentRun:r,runHistory:e.runHistory.map(e=>e.id===r.id?r:e)}})},removeJob:t=>{e(e=>{if(!e.currentRun)return e;let s=e.currentRun.sourceData.jobs.filter(e=>e.id!==t);return{currentRun:{...e.currentRun,sourceData:{jobs:s,totalImported:s.length},stats:{...e.currentRun.stats,totalJobs:s.length},updatedAt:new Date().toISOString()}}})},clearJobs:()=>{e(e=>{if(!e.currentRun)return e;let t={...e.currentRun,sourceData:{jobs:[],totalImported:0},qualifyData:{qualifiedJobs:[],disqualifiedJobs:[],qualificationReasons:{}},enrichData:{contacts:[],enrichmentStats:{fromJobPoster:0,fromEnrichment:0,failed:0}},composeData:{messages:[],approvedCount:0},exportData:{rows:[],exportedAt:void 0,spreadsheetUrl:void 0},stats:{totalJobs:0,qualifiedJobs:0,totalContacts:0,totalMessages:0,readyToSend:0},steps:{source:{status:"pending"},qualify:{status:"pending"},enrich:{status:"pending"},compose:{status:"pending"},export:{status:"pending"}},updatedAt:new Date().toISOString()};return{currentRun:t,runHistory:e.runHistory.map(e=>e.id===t.id?t:e),selectedJobIds:[],selectedContactIds:[],selectedMessageIds:[]}})},qualifyJob:(t,s,a)=>{e(e=>{if(!e.currentRun)return e;let n=e.currentRun.sourceData.jobs.find(e=>e.id===t);if(!n)return e;let r=[...e.currentRun.qualifyData.qualifiedJobs],l=[...e.currentRun.qualifyData.disqualifiedJobs],i={...e.currentRun.qualifyData.qualificationReasons};return r=r.filter(e=>e.id!==t),l=l.filter(e=>e.id!==t),s?(r.push(n),i[t]=a||"Manually qualified"):(l.push(n),i[t]=a||"Manually disqualified"),{currentRun:{...e.currentRun,qualifyData:{qualifiedJobs:r,disqualifiedJobs:l,qualificationReasons:i},stats:{...e.currentRun.stats,qualifiedJobs:r.length},updatedAt:new Date().toISOString()}}})},qualifyAllByTechStack:function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"any";e(e=>{if(!e.currentRun)return e;let n=[],r=[],l={};return e.currentRun.sourceData.jobs.forEach(e=>{var i,o,c,d;let u=e.techStack||[],m=t.some(e=>u.some(t=>t.toLowerCase().includes(e.toLowerCase()))),x=!0,p="";"remote"===s?(x=!0===e.isRemote)||(p="Not remote"):"hybrid"===s&&((x=!0===e.isRemote||null!=(o=null==(i=e.location)?void 0:i.toLowerCase().includes("hybrid"))&&o)||(p="Not remote or hybrid"));let g=!0,h="";if("required"===a&&((g=!!(null==(c=e.poster)?void 0:c.name))||(h="No poster name")),m&&x&&g){n.push(e);let s=u.filter(e=>t.some(t=>e.toLowerCase().includes(t.toLowerCase()))).join(", "),a="Matches: ".concat(s);e.isRemote&&(a+=" (Remote ✓)"),(null==(d=e.poster)?void 0:d.name)&&(a+=" (Poster ✓)"),l[e.id]=a}else{r.push(e);let t=[];m||t.push("No tech match"),x||t.push(p),g||t.push(h),l[e.id]=t.join(" & ")}}),{currentRun:{...e.currentRun,qualifyData:{qualifiedJobs:n,disqualifiedJobs:r,qualificationReasons:l},stats:{...e.currentRun.stats,qualifiedJobs:n.length},updatedAt:new Date().toISOString()}}})},addContacts:t=>{e(e=>{if(!e.currentRun)return e;let s=new Set(e.currentRun.enrichData.contacts.map(e=>e.id)),a=t.filter(e=>!s.has(e.id)),n=[...e.currentRun.enrichData.contacts,...a],r=n.filter(e=>"job_poster"===e.source).length,l=n.filter(e=>e.source.startsWith("enrichment")).length;return{currentRun:{...e.currentRun,enrichData:{contacts:n,enrichmentStats:{fromJobPoster:r,fromEnrichment:l,failed:0}},stats:{...e.currentRun.stats,totalContacts:n.length},updatedAt:new Date().toISOString()}}})},updateContact:(t,s)=>{e(e=>{if(!e.currentRun)return e;let a=e.currentRun.enrichData.contacts.map(e=>e.id===t?{...e,...s,updatedAt:new Date().toISOString()}:e);return{currentRun:{...e.currentRun,enrichData:{...e.currentRun.enrichData,contacts:a},updatedAt:new Date().toISOString()}}})},addMessages:t=>{e(e=>{if(!e.currentRun)return e;let s=new Set(e.currentRun.composeData.messages.map(e=>e.id)),a=t.filter(e=>!s.has(e.id)),n=[...e.currentRun.composeData.messages,...a];return{currentRun:{...e.currentRun,composeData:{messages:n,approvedCount:n.filter(e=>"approved"===e.status).length},stats:{...e.currentRun.stats,totalMessages:n.length},updatedAt:new Date().toISOString()}}})},updateMessage:(t,s)=>{e(e=>{if(!e.currentRun)return e;let a=e.currentRun.composeData.messages.map(e=>e.id===t?{...e,...s}:e);return{currentRun:{...e.currentRun,composeData:{messages:a,approvedCount:a.filter(e=>"approved"===e.status).length},updatedAt:new Date().toISOString()}}})},approveMessage:e=>{let{updateMessage:s}=t();s(e,{status:"approved"})},approveAllMessages:()=>{e(e=>{if(!e.currentRun)return e;let t=e.currentRun.composeData.messages.map(e=>({...e,status:"approved"}));return{currentRun:{...e.currentRun,composeData:{messages:t,approvedCount:t.length},updatedAt:new Date().toISOString()}}})},generateExportRows:()=>{e(e=>{if(!e.currentRun)return e;let{contacts:t}=e.currentRun.enrichData,{messages:s}=e.currentRun.composeData,{qualifiedJobs:a}=e.currentRun.qualifyData,n=[];return s.filter(e=>"approved"===e.status).forEach(e=>{let s=t.find(t=>t.id===e.contactId),r=a.find(t=>t.id===e.jobId);s&&r&&n.push({status:"\uD83D\uDD35 Ready",priority:"job_poster"===s.source?"⭐ High":"Medium",sequenceStep:"1st_touch"===e.sequenceStep?"1st Touch":"2nd_followup"===e.sequenceStep?"2nd Follow-up":"3rd_followup"===e.sequenceStep?"3rd Follow-up":"Final Touch",channel:"linkedin"===e.channel?"LinkedIn":"email"===e.channel?"Email":"LI+Email",contactName:s.name,contactTitle:s.title,company:s.company,linkedInUrl:s.linkedInUrl||"",email:s.email||"",jobTitle:r.title,techStack:(r.techStack||[]).join(", "),message:e.message,personalizationNotes:e.personalizationFacts.join("; "),jobPostUrl:r.jobUrl,suggestedSendDate:e.suggestedSendDate})}),{currentRun:{...e.currentRun,exportData:{rows:n,exportedAt:void 0,spreadsheetUrl:void 0},stats:{...e.currentRun.stats,readyToSend:n.length},updatedAt:new Date().toISOString()}}})},markExported:t=>{e(e=>e.currentRun?{currentRun:{...e.currentRun,exportData:{...e.currentRun.exportData,exportedAt:new Date().toISOString(),spreadsheetUrl:t},updatedAt:new Date().toISOString()}}:e)},toggleJobSelection:t=>{e(e=>({selectedJobIds:e.selectedJobIds.includes(t)?e.selectedJobIds.filter(e=>e!==t):[...e.selectedJobIds,t]}))},selectAllJobs:()=>{e(e=>{var t;return{selectedJobIds:(null==(t=e.currentRun)?void 0:t.sourceData.jobs.map(e=>e.id))||[]}})},clearJobSelection:()=>{e({selectedJobIds:[]})},resetCurrentRun:()=>{let{currentRun:s}=t();if(s){let t=x(s.name);t.id=s.id,e(e=>({currentRun:t,runHistory:e.runHistory.map(e=>e.id===t.id?t:e),selectedJobIds:[],selectedContactIds:[],selectedMessageIds:[]}))}}}),{name:"outreach-workflow-v2",partialize:e=>({currentRun:e.currentRun,runHistory:e.runHistory,mode:e.mode}),onRehydrateStorage:()=>e=>{if(null==e?void 0:e.currentRun){let t=e.currentRun.sourceData.jobs.length,s=e.currentRun.qualifyData.qualifiedJobs.length,a=e.currentRun.enrichData.contacts.length,n=e.currentRun.composeData.messages.length,r=e.currentRun.composeData.messages.filter(e=>"approved"===e.status).length;(e.currentRun.stats.totalJobs!==t||e.currentRun.stats.qualifiedJobs!==s||e.currentRun.stats.totalContacts!==a||e.currentRun.stats.totalMessages!==n)&&p.setState(e=>({currentRun:e.currentRun?{...e.currentRun,stats:{totalJobs:t,qualifiedJobs:s,totalContacts:a,totalMessages:n,readyToSend:r}}:null}))}}}));var g=s(3592),h=s(5870),b=s(5921),f=s(8314),y=s(6191),j=s(7937),N=s(5917),v=s(5626),w=s(2987),k=s(2619),S=s.n(k),C=s(5202),R=s(4788),A=s(1786),D=s(5880),I=s(6132),q=s(2529),L=s(1360),E=s(9408),T=s(1873),J=s(6485),O=s(508),P=s(8150);function U(){let{currentRun:e,addJobs:t,removeJob:s,clearJobs:r,updateStepStatus:l}=p(),[o,c]=(0,n.useState)("upload"),[d,u]=(0,n.useState)(!1),[m,x]=(0,n.useState)(null),[g,h]=(0,n.useState)(""),b=(null==e?void 0:e.sourceData.jobs)||[],f=b.filter(e=>e.title.toLowerCase().includes(g.toLowerCase())||e.company.toLowerCase().includes(g.toLowerCase())),y=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?u(!0):"dragleave"===e.type&&u(!1)},[]),j=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u(!1),x(null);let t=e.dataTransfer.files;(null==t?void 0:t[0])&&v(t[0])},[]),N=e=>{var t;x(null),(null==(t=e.target.files)?void 0:t[0])&&v(e.target.files[0])},v=async e=>{if(!e.name.endsWith(".json"))return void x("Please upload a JSON file");try{let s=await e.text(),a=JSON.parse(s),n=Array.isArray(a)?a:a.jobs||a.results||a.data||a.items||[];if(!Array.isArray(n)||0===n.length)return void x("No jobs found in the file. Expected an array of job objects.");let r=n.map((e,t)=>{var s,a,n,r,l;return{id:e.id||e.jobId||"job_".concat(Date.now(),"_").concat(t),title:e.title||e.jobTitle||e.position||"Unknown Title",company:e.company||e.companyName||e.organization||"Unknown Company",companyLinkedIn:e.companyUrl||e.companyLinkedIn||e.companyLinkedInUrl,location:e.location||e.jobLocation||e.place||"Unknown Location",description:e.description||e.jobDescription||e.descriptionHtml||"",jobUrl:e.url||e.jobUrl||e.link||e.applyUrl||"",postedDate:e.postedAt||e.publishedAt||e.datePosted,scrapedAt:e.scrapedAt||new Date().toISOString(),poster:e.posterFullName||e.posterProfileUrl||e.poster||e.recruiter||e.recruiterName?{name:e.posterFullName||e.recruiterName||e.posterName||(null==(s=e.poster)?void 0:s.name)||"",title:e.recruiterTitle||e.posterTitle||(null==(a=e.poster)?void 0:a.title)||"Recruiter",linkedInUrl:e.posterProfileUrl||e.recruiterUrl||e.posterUrl||e.recruiterLinkedIn||(null==(n=e.poster)?void 0:n.linkedInUrl)||""}:void 0,techStack:e.techStack||e.skills||(e=>{let t=e.toLowerCase(),s=(e.includes("title:")?e:"").toLowerCase();return[{keyword:"React",aliases:["react","react.js","reactjs"]},{keyword:"Vue.js",aliases:["vue","vue.js","vuejs"]},{keyword:"Angular",aliases:["angular","angularjs"]},{keyword:"Next.js",aliases:["next","next.js","nextjs"]},{keyword:"TypeScript",aliases:["typescript","ts"]},{keyword:"JavaScript",aliases:["javascript","js","es6","ecmascript"]},{keyword:"Node.js",aliases:["node","node.js","nodejs"]},{keyword:"Python",aliases:["python","python3","django","flask","fastapi"]},{keyword:"Java",aliases:["java","spring","spring boot","springboot"]},{keyword:".NET",aliases:[".net","dotnet","c#","csharp","asp.net"]},{keyword:"Go",aliases:["golang","go lang"]},{keyword:"Ruby",aliases:["ruby","rails","ruby on rails"]},{keyword:"Rust",aliases:["rust","rustlang"]},{keyword:"PHP",aliases:["php","laravel","symfony"]},{keyword:"AWS",aliases:["aws","amazon web services","ec2","s3","lambda","cloudformation"]},{keyword:"Azure",aliases:["azure","microsoft azure"]},{keyword:"GCP",aliases:["gcp","google cloud","google cloud platform"]},{keyword:"Docker",aliases:["docker","containers","containerization"]},{keyword:"Kubernetes",aliases:["kubernetes","k8s"]},{keyword:"Terraform",aliases:["terraform","iac","infrastructure as code"]},{keyword:"CI/CD",aliases:["ci/cd","ci cd","cicd","jenkins","github actions","gitlab ci","circleci","continuous integration","continuous deployment"]},{keyword:"PostgreSQL",aliases:["postgres","postgresql","pg"]},{keyword:"MongoDB",aliases:["mongodb","mongo"]},{keyword:"Redis",aliases:["redis"]},{keyword:"MySQL",aliases:["mysql"]},{keyword:"Elasticsearch",aliases:["elasticsearch","elastic"]},{keyword:"GraphQL",aliases:["graphql","apollo"]},{keyword:"REST",aliases:["rest api","restful","api"]},{keyword:"Full Stack",aliases:["full stack","fullstack","full-stack"]},{keyword:"QA/Testing",aliases:["qa","quality assurance","testing","test automation","selenium","cypress","jest","pytest"]},{keyword:"Microservices",aliases:["microservices","micro-services","microservice"]},{keyword:"Machine Learning",aliases:["machine learning","ml","ai","artificial intelligence","deep learning","tensorflow","pytorch"]}].filter(e=>e.aliases.some(e=>t.includes(e)||s.includes(e))).map(e=>e.keyword)})(e.description||""),companySize:e.companySize||e.employeeCount,isRemote:e.isRemote||e.remote||null!=(l=null==(r=e.location)?void 0:r.toLowerCase().includes("remote"))&&l,seniorityLevel:e.seniorityLevel||(e=>{let t=e.toLowerCase();return t.includes("principal")||t.includes("staff")?"staff":t.includes("lead")||t.includes("architect")?"lead":t.includes("senior")||t.includes("sr.")?"senior":t.includes("junior")||t.includes("jr.")?"junior":"mid"})(e.title||"")}});t(r),l("source","completed")}catch(e){x("Failed to parse JSON file. Please check the format."),console.error(e)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 text-blue-600"}),"Import Job Posts"]}),(0,a.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,a.jsxs)("button",{onClick:()=>c("upload"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ".concat("upload"===o?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,a.jsx)(C.A,{className:"w-4 h-4"}),"Upload JSON"]}),(0,a.jsxs)("button",{onClick:()=>c("apify"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ".concat("apify"===o?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,a.jsx)(R.A,{className:"w-4 h-4"}),"Apify Scraper"]})]}),"upload"===o&&(0,a.jsxs)("div",{onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:j,className:"border-2 border-dashed rounded-xl p-8 text-center transition-all ".concat(d?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,a.jsx)(A.A,{className:"w-12 h-12 mx-auto mb-4 ".concat(d?"text-blue-600":"text-gray-400")}),(0,a.jsxs)("p",{className:"text-gray-600 mb-2",children:["Drag and drop your JSON file here, or"," ",(0,a.jsxs)("label",{className:"text-blue-600 cursor-pointer hover:underline",children:["browse",(0,a.jsx)("input",{type:"file",accept:".json",onChange:N,className:"hidden"})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Supports Apify LinkedIn Jobs Scraper output, or any JSON with job listings"})]}),"apify"===o&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 text-center",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Apify integration coming soon. For now, please run the scraper manually and upload the JSON output."}),(0,a.jsxs)("a",{href:"https://apify.com/bebity/linkedin-jobs-scraper",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-blue-600 hover:underline",children:["Open Apify LinkedIn Jobs Scraper",(0,a.jsx)(D.A,{className:"w-4 h-4"})]})]}),m&&(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-red-600 bg-red-50 px-4 py-3 rounded-lg",children:[(0,a.jsx)(I.A,{className:"w-5 h-5"}),m]})]}),b.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(q.A,{className:"w-5 h-5 text-green-600"}),"Imported Jobs",(0,a.jsxs)("span",{className:"text-sm font-normal text-gray-500",children:["(",b.length,")"]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Data saved • Will persist across sessions"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.A,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search jobs...",value:g,onChange:e=>h(e.target.value),className:"pl-9 pr-4 py-2 border border-gray-200 rounded-lg text-sm w-64"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg font-medium cursor-pointer hover:bg-blue-100 transition-colors",children:[(0,a.jsx)(A.A,{className:"w-4 h-4"}),"Add More",(0,a.jsx)("input",{type:"file",accept:".json",onChange:N,className:"hidden"})]}),(0,a.jsxs)("button",{onClick:()=>{confirm("Are you sure you want to remove all imported jobs? This cannot be undone.")&&(r(),l("source","pending"))},className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg font-medium hover:bg-red-100 transition-colors",children:[(0,a.jsx)(L.A,{className:"w-4 h-4"}),"Clear All"]})]})]}),(0,a.jsx)("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:f.map(e=>(0,a.jsx)("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-600",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(E.A,{className:"w-3.5 h-3.5"}),e.company]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(T.A,{className:"w-3.5 h-3.5"}),e.location]}),e.postedDate&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(J.A,{className:"w-3.5 h-3.5"}),new Date(e.postedDate).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.jobUrl&&(0,a.jsx)("a",{href:e.jobUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",title:"View Job Post",children:(0,a.jsx)(D.A,{className:"w-4 h-4 text-gray-500"})}),(0,a.jsx)("button",{onClick:()=>s(e.id),className:"p-2 hover:bg-red-100 rounded-lg transition-colors",title:"Remove",children:(0,a.jsx)(L.A,{className:"w-4 h-4 text-red-500"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[e.poster&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[(0,a.jsx)(O.A,{className:"w-3 h-3"}),e.poster.name]}),e.isRemote&&(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:"\uD83C\uDF0D Remote"}),e.techStack&&e.techStack.slice(0,5).map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:[(0,a.jsx)(P.A,{className:"w-3 h-3"}),e]},e)),e.techStack&&e.techStack.length>5&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.techStack.length-5," more"]})]})]})},e.id))})]}),0===b.length&&(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[(0,a.jsx)(C.A,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Jobs Imported Yet"}),(0,a.jsx)("p",{className:"text-gray-500 max-w-md mx-auto",children:"Upload a JSON file with LinkedIn job listings to get started. You can export this from Apify's LinkedIn Jobs Scraper."})]})]})}async function M(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"gemini-2.5-flash",a=arguments.length>3?arguments[3]:void 0,n="https://generativelanguage.googleapis.com/v1beta/models/".concat(s,":generateContent?key=").concat(t),r="required"===a.posterRequired?e.filter(e=>{var t,s;return!!((null==(t=e.poster)?void 0:t.name)||(null==(s=e.poster)?void 0:s.linkedInUrl))}):e,l=e.filter(e=>{var t,s;return"required"===a.posterRequired&&!((null==(t=e.poster)?void 0:t.name)||(null==(s=e.poster)?void 0:s.linkedInUrl))}).map(e=>({jobId:e.id,qualified:!1,confidence:100,reason:"No poster contact available",extractedData:{isRemote:!1,workLocation:"unknown",detectedFrom:"none",remoteEvidence:null,techStack:e.techStack||[]}}));if(0===r.length)return l;let i=[];for(let e=0;e<r.length;e+=15){let t=r.slice(e,e+15),s=await F(t,n,a);i.push(...s)}return[...i,...l]}async function F(e,t,s){let a=e.map(e=>{var t;return{id:e.id,title:e.title,company:e.company,location:e.location,description:null==(t=e.description)?void 0:t.substring(0,1500),techStack:e.techStack}}),n="Task: Classify Job Work Mode and Qualify for ".concat(s.companyName,'\n\nYou must analyze the title, location, and description fields for EVERY job entry to determine the work mode. Use the following strict logic to classify each job:\n\n=== REMOTE ===\nClassify as "remote" if you find keywords such as:\n- "Remote", "Work from home", "WFH", "Work from anywhere", "Home-based", "Virtual", "Telecommute", "Fully distributed"\n- "Remote first" (Note: Treat this as a definitive confirmation of remote work, even if a specific office location is also mentioned in the post)\n\nCrucial Check: Look for "Remote" explicitly mentioned in the location field (e.g., "Remote - Israel") or the title (e.g., "Backend Engineer (Remote)").\n\n=== HYBRID ===\nClassify as "hybrid" if you find keywords such as:\n- "Hybrid", "Flexible work", "Mix of office and home", "X days in office", "Office occasionally"\n\nContext Clue: If the text mentions both a specific physical office location AND "flexible working options" without explicitly saying "fully remote," classify as hybrid.\n\n=== ON-SITE ===\nClassify as "onsite" if the description explicitly states:\n- "On-site", "Work from office", "In-office"\n\nDefault Logic: If none of the above keywords (Remote/Hybrid) are found, and a specific physical location is provided (e.g., "Tel Aviv"), classify as "onsite".\n\n=== QUALIFICATION CRITERIA ===\n').concat("remote"===s.workLocation?"⚠️ We want REMOTE jobs only! Hybrid or on-site → qualified: false":"","\n").concat("hybrid"===s.workLocation?"Remote OR hybrid jobs qualify. On-site only → qualified: false":"","\n").concat("any"===s.workLocation?"Any work location is acceptable.":"","\nTech Stack Match: Job should mention at least one of: ").concat(s.techStack.join(", "),"\n\nA job is qualified ONLY if it meets BOTH the work location AND tech stack criteria.\n\n=== JOBS TO ANALYZE ===\n").concat(JSON.stringify(a,null,2),'\n\n=== OUTPUT FORMAT ===\nReturn ONLY a valid JSON array (no markdown, no code blocks, no explanation):\n[\n  {\n    "jobId": "string",\n    "qualified": boolean,\n    "confidence": number (0-100),\n    "reason": "Brief: Work mode found + tech match status",\n    "extractedData": {\n      "isRemote": boolean,\n      "workLocation": "remote" | "hybrid" | "onsite",\n      "detectedFrom": "title" | "location" | "description" | "none",\n      "remoteEvidence": "EXACT quote or field where you found the work mode indicator, or null if defaulted to onsite",\n      "techStack": ["detected technologies from our list"]\n    }\n  }\n]');try{var r,l,i,o,c;let e=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:n}]}],generationConfig:{temperature:.1,maxOutputTokens:8192,responseMimeType:"application/json"}})});if(!e.ok){let t=await e.text();throw console.error("Gemini API error:",t),Error("Gemini API error: ".concat(e.status))}let s=null==(c=(await e.json()).candidates)||null==(o=c[0])||null==(i=o.content)||null==(l=i.parts)||null==(r=l[0])?void 0:r.text;if(!s)throw Error("No response from Gemini");let a=s.trim();return a.startsWith("```")&&(a=a.replace(/^```(?:json)?\n?/,"").replace(/\n?```$/,"")),JSON.parse(a)}catch(t){return console.error("Error qualifying with Gemini:",t),e.map(e=>({jobId:e.id,qualified:!1,confidence:0,reason:"AI qualification failed: ".concat(t instanceof Error?t.message:"Unknown error"),extractedData:{isRemote:!1,workLocation:"unknown",detectedFrom:"none",remoteEvidence:null,techStack:e.techStack||[]}}))}}var H=s(5299),_=s(8192),G=s(8874),z=s(5229),W=s(2108),B=s(4033);function Q(){let{currentRun:e,qualifyJob:t,updateStepStatus:s,goToNextStep:r,addJobs:l}=p(),{businessContext:i,integrations:d}=(0,g.C)(),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(!1),[b,f]=(0,n.useState)(null),[y,j]=(0,n.useState)(null),v=(null==e?void 0:e.sourceData.jobs)||[],w=(null==e?void 0:e.qualifyData.qualifiedJobs)||[],k=(null==e?void 0:e.qualifyData.disqualifiedJobs)||[],S=(null==e?void 0:e.qualifyData.qualificationReasons)||{},C=v.filter(e=>!w.some(t=>t.id===e.id)&&!k.some(t=>t.id===e.id)),R=[...v].sort((e,t)=>{let s=S[e.id]||"",a=S[t.id]||"",n=(e,t)=>t.includes("remote (from")||e.isRemote?0:t.includes("hybrid (from")?1:t.includes("onsite (from")?2:3;return n(e,s)-n(t,a)}),A=Object.values(i.techStack).flat(),D=async()=>{let e=d.gemini.apiKey;if(!e)return void j("Please configure your Gemini API key in Settings");h(!0),j(null),f({current:0,total:v.length});try{let t=await M(v,e,d.gemini.model||"gemini-2.5-flash",{techStack:A,workLocation:i.qualification.workLocation,posterRequired:i.qualification.posterRequired||"any",companyName:i.companyName,companyDescription:i.whatWeDo}),a=[],n=[],r={},l=[];t.forEach((e,s)=>{var i,o,c;f({current:s+1,total:t.length});let d=v.find(t=>t.id===e.jobId);if(!d)return;let u={...d,isRemote:e.extractedData.isRemote,techStack:e.extractedData.techStack.length>0?e.extractedData.techStack:d.techStack};l.push(u),e.qualified?a.push(u):n.push(u);let m="unknown"!==e.extractedData.workLocation?"".concat(e.extractedData.workLocation," (from ").concat(e.extractedData.detectedFrom,")"):"unknown",x=!!((null==(i=d.poster)?void 0:i.name)||(null==(o=d.poster)?void 0:o.linkedInUrl)),p=e.extractedData.remoteEvidence?' | Evidence: "'.concat(e.extractedData.remoteEvidence,'"'):"";r[e.jobId]="[".concat(e.confidence,"%] ").concat(e.reason," | Location: ").concat(m).concat(p).concat(x?" | Poster: ".concat(null==(c=d.poster)?void 0:c.name," ✓"):"")});let o=new Set(t.map(e=>e.jobId)),c=v.filter(e=>!o.has(e.id));c.length>0&&(console.warn("AI did not process ".concat(c.length," jobs, adding as disqualified")),c.forEach(e=>{l.push(e),n.push(e),r[e.id]="[0%] Job not processed by AI | Location: unknown"})),console.log("Total jobs: ".concat(v.length,", Qualified: ").concat(a.length,", Disqualified: ").concat(n.length)),p.setState(e=>e.currentRun?{currentRun:{...e.currentRun,sourceData:{jobs:l.length>0?l:e.currentRun.sourceData.jobs,totalImported:e.currentRun.sourceData.totalImported},qualifyData:{qualifiedJobs:a,disqualifiedJobs:n,qualificationReasons:r},stats:{...e.currentRun.stats,qualifiedJobs:a.length},updatedAt:new Date().toISOString()}}:e),s("qualify","completed")}catch(e){console.error("AI Qualification error:",e),j(e instanceof Error?e.message:"AI qualification failed")}finally{h(!1),f(null)}},L=(e,a,n)=>{t(e,a,n),0===v.filter(t=>t.id!==e&&!w.some(e=>e.id===t.id)&&!k.some(e=>e.id===t.id)).length&&s("qualify","completed")};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"w-5 h-5 text-purple-600"}),"Qualify Leads by Tech Stack"]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)("button",{onClick:D,disabled:x||0===v.length,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ".concat(x?"bg-gradient-to-r from-purple-100 to-blue-100 text-purple-600":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700"),children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(H.A,{className:"w-4 h-4 animate-spin"}),"AI Qualifying... ",b&&"(".concat(b.current,"/").concat(b.total,")")]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.A,{className:"w-4 h-4"}),"AI Qualify"]})})})]}),y&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4 flex items-center gap-3",children:[(0,a.jsx)(I.A,{className:"w-5 h-5 text-red-600 shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-red-700 font-medium",children:y}),(0,a.jsx)("a",{href:"/settings",className:"text-sm text-red-600 underline",children:"Go to Settings"})]})]}),x&&b&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,a.jsx)("span",{children:"Analyzing jobs with AI..."}),(0,a.jsxs)("span",{children:[Math.round(b.current/b.total*100),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(b.current/b.total*100,"%")}})})]}),A.length>0?(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-purple-700 mb-2 font-medium",children:"Matching against your configured tech stack:"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:A.map(e=>(0,a.jsx)("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:e},e))})]}):(0,a.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4 mb-4 flex items-center gap-3",children:[(0,a.jsx)(I.A,{className:"w-5 h-5 text-amber-600 shrink-0"}),(0,a.jsxs)("p",{className:"text-sm text-amber-700",children:["No tech stack configured. Please go to"," ",(0,a.jsx)("a",{href:"/settings",className:"font-medium underline",children:"Settings"})," ","to define the technologies you provide."]})]}),(0,a.jsx)("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-8 justify-between",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-[280px]",children:[(0,a.jsx)("p",{className:"text-sm text-blue-700 mb-2 font-medium",children:"Work Location Preference:"}),(0,a.jsx)("div",{className:"flex gap-2 flex-wrap",children:[{value:"remote",label:"\uD83C\uDF0D Remote Only",desc:"Only remote positions"},{value:"hybrid",label:"\uD83C\uDFE0 Hybrid",desc:"Remote or hybrid"},{value:"onsite",label:"\uD83C\uDFE2 On-site",desc:"Includes on-site"},{value:"any",label:"✓ Any",desc:"All locations"}].map(e=>(0,a.jsx)("button",{onClick:()=>g.C.getState().updateBusinessContext({qualification:{...i.qualification,workLocation:e.value}}),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all ".concat(i.qualification.workLocation===e.value?"bg-blue-600 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"),title:e.desc,children:e.label},e.value))}),(0,a.jsxs)("p",{className:"text-xs text-blue-600 mt-2",children:["remote"===i.qualification.workLocation&&"✓ Filtering for remote-only positions","hybrid"===i.qualification.workLocation&&"✓ Including remote and hybrid positions","onsite"===i.qualification.workLocation&&"✓ Including all work arrangements","any"===i.qualification.workLocation&&"✓ No location filter applied"]})]}),(0,a.jsxs)("div",{className:"min-w-[200px]",children:[(0,a.jsx)("p",{className:"text-sm text-blue-700 mb-2 font-medium",children:"Poster Name:"}),(0,a.jsx)("div",{className:"flex gap-2",children:[{value:"required",label:"\uD83D\uDC64 Required",desc:"Only jobs with poster name"},{value:"any",label:"✓ Any",desc:"All jobs"}].map(e=>(0,a.jsx)("button",{onClick:()=>g.C.getState().updateBusinessContext({qualification:{...i.qualification,posterRequired:e.value}}),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all ".concat((i.qualification.posterRequired||"any")===e.value?"bg-blue-600 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"),title:e.desc,children:e.label},e.value))}),(0,a.jsxs)("p",{className:"text-xs text-blue-600 mt-2",children:["required"===(i.qualification.posterRequired||"any")&&"✓ Only jobs with poster name","any"===(i.qualification.posterRequired||"any")&&"✓ All jobs included"]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:C.length}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"To Review"})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:w.length}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Qualified"})]}),(0,a.jsxs)("div",{className:"bg-red-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600",children:k.length}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Disqualified"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:["All Jobs (",v.length,")"]}),(0,a.jsx)("div",{className:"space-y-3",children:R.map(e=>{var t,s,n,r,l;let i=(l=e.id,w.some(e=>e.id===l)?"qualified":k.some(e=>e.id===l)?"disqualified":"pending"),o=(e=>{let t=e.techStack||[];return A.filter(e=>t.some(t=>t.toLowerCase().includes(e.toLowerCase())))})(e),d=u===e.id,x=S[e.id];return(0,a.jsx)("div",{className:"border rounded-lg transition-all ".concat("qualified"===i?"border-green-200 bg-green-50/50":"disqualified"===i?"border-red-200 bg-red-50/50":"border-gray-200"),children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["qualified"===i&&(0,a.jsx)(q.A,{className:"w-5 h-5 text-green-600"}),"disqualified"===i&&(0,a.jsx)(G.A,{className:"w-5 h-5 text-red-500"}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-600",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(E.A,{className:"w-3.5 h-3.5"}),e.company]}),e.companySize&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(c.A,{className:"w-3.5 h-3.5"}),e.companySize]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[e.isRemote&&(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:"\uD83C\uDF0D Remote"}),!e.isRemote&&(null==(t=e.location)?void 0:t.toLowerCase().includes("hybrid"))&&(0,a.jsx)("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 rounded-full text-xs font-medium",children:"\uD83C\uDFE0 Hybrid"}),!e.isRemote&&!(null==(s=e.location)?void 0:s.toLowerCase().includes("hybrid"))&&(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium",children:"\uD83C\uDFE2 On-site"}),(null==(n=e.poster)?void 0:n.name)?(0,a.jsxs)("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:["\uD83D\uDC64 ",e.poster.name]}):(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-400 rounded-full text-xs font-medium",children:"\uD83D\uDC64 No poster"}),o.length>0?o.map(e=>(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[(0,a.jsx)(N.A,{className:"w-3 h-3"}),e]},e)):(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"No tech stack match"}),null==(r=e.techStack)?void 0:r.filter(e=>!o.some(t=>e.toLowerCase().includes(t.toLowerCase()))).slice(0,3).map(e=>(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-500 rounded-full text-xs",children:e},e))]}),x&&(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2 italic",children:x})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("button",{onClick:()=>L(e.id,!0,"Matches: ".concat(o.join(", ")||"Manual approval")),className:"p-2 rounded-lg transition-all ".concat("qualified"===i?"bg-green-600 text-white":"bg-gray-100 hover:bg-green-100 text-gray-600 hover:text-green-600"),title:"Qualify",children:(0,a.jsx)(N.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>L(e.id,!1,"Manually disqualified"),className:"p-2 rounded-lg transition-all ".concat("disqualified"===i?"bg-red-600 text-white":"bg-gray-100 hover:bg-red-100 text-gray-600 hover:text-red-600"),title:"Disqualify",children:(0,a.jsx)(z.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>m(d?null:e.id),className:"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",title:"Show Details",children:d?(0,a.jsx)(W.A,{className:"w-5 h-5"}):(0,a.jsx)(B.A,{className:"w-5 h-5"})})]})]}),d&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,a.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap line-clamp-6",children:e.description||"No description available"}),e.poster&&(0,a.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Job Poster:"}),(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.poster.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.poster.title}),e.poster.linkedInUrl&&(0,a.jsx)("a",{href:e.poster.linkedInUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline mt-1 inline-block",children:"View LinkedIn Profile"})]})]})]})},e.id)})})]}),w.length>0&&(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("button",{onClick:r,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:["Continue with ",w.length," Qualified Leads",(0,a.jsx)(B.A,{className:"w-4 h-4 rotate-[-90deg]"})]})})]})}var K=s(5740),V=s(6046),Y=s(7333),Z=s(3664),X=s(9141),$=s(1190);function ee(){let{currentRun:e,addContacts:t,updateContact:s,updateStepStatus:r,goToNextStep:l}=p(),[i,o]=(0,n.useState)(!1),[d,u]=(0,n.useState)(null),[m,x]=(0,n.useState)({}),g=(null==e?void 0:e.qualifyData.qualifiedJobs)||[],h=(null==e?void 0:e.enrichData.contacts)||[],b=(null==e?void 0:e.enrichData.enrichmentStats)||{fromJobPoster:0,fromEnrichment:0,failed:0},f=async()=>{o(!0),await new Promise(e=>setTimeout(e,2e3)),t((()=>{let e=[],t=new Date().toISOString();return g.forEach(s=>{h.some(e=>e.jobId===s.id)||(s.poster&&s.poster.name?e.push({id:crypto.randomUUID(),jobId:s.id,name:s.poster.name,title:s.poster.title||"Recruiter",company:s.company,linkedInUrl:s.poster.linkedInUrl,email:void 0,source:"job_poster",status:"new",createdAt:t,updatedAt:t}):e.push({id:crypto.randomUUID(),jobId:s.id,name:"Unknown (needs enrichment)",title:"Hiring Manager / Recruiter",company:s.company,linkedInUrl:void 0,email:void 0,source:"manual",status:"new",createdAt:t,updatedAt:t}))}),e})()),r("enrich","completed"),o(!1)},y=()=>{d&&m&&(s(d,m),u(null),x({}))},j=()=>{u(null),x({})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"w-5 h-5 text-green-600"}),"Contact Enrichment"]}),(0,a.jsxs)("button",{onClick:f,disabled:i||0===g.length,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ".concat(i?"bg-green-100 text-green-600":"bg-green-600 text-white hover:bg-green-700"),children:[(0,a.jsx)(K.A,{className:"w-4 h-4 ".concat(i?"animate-pulse":"")}),i?"Extracting Contacts...":"Extract from Job Posters"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Extract contact information from job posters. For jobs without poster info, you'll need to manually add contacts or use enrichment tools."}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:g.length}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Qualified Jobs"})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:b.fromJobPoster}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"From Posters"})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:b.fromEnrichment}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Enriched"})]}),(0,a.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-amber-600",children:h.filter(e=>!e.email&&!e.linkedInUrl).length}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Needs Info"})]})]})]}),h.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:["Contacts (",h.length,")"]}),(0,a.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:h.map(e=>{let t=g.find(t=>t.id===e.jobId),s=d===e.id,n=e.linkedInUrl||e.email;return(0,a.jsx)("div",{className:"border rounded-lg p-4 transition-all ".concat(n?"border-green-200 bg-green-50/30":"border-amber-200 bg-amber-50/30"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("div",{className:"flex-1",children:s?(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Name"}),(0,a.jsx)("input",{type:"text",value:m.name||"",onChange:e=>x({...m,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Title"}),(0,a.jsx)("input",{type:"text",value:m.title||"",onChange:e=>x({...m,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"LinkedIn URL"}),(0,a.jsx)("input",{type:"text",value:m.linkedInUrl||"",onChange:e=>x({...m,linkedInUrl:e.target.value}),placeholder:"https://linkedin.com/in/...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Email"}),(0,a.jsx)("input",{type:"email",value:m.email||"",onChange:e=>x({...m,email:e.target.value}),placeholder:"email@company.com",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-gray-500",children:"Phone"}),(0,a.jsx)("input",{type:"tel",value:m.phone||"",onChange:e=>x({...m,phone:e.target.value}),placeholder:"+1 234 567 8900",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:y,className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700",children:[(0,a.jsx)(V.A,{className:"w-4 h-4"}),"Save"]}),(0,a.jsxs)("button",{onClick:j,className:"flex items-center gap-1 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200",children:[(0,a.jsx)(z.A,{className:"w-4 h-4"}),"Cancel"]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[n?(0,a.jsx)(q.A,{className:"w-5 h-5 text-green-600"}):(0,a.jsx)(I.A,{className:"w-5 h-5 text-amber-500"}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium ".concat("job_poster"===e.source?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"),children:"job_poster"===e.source?"From Job Post":"Manual"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.title}),(0,a.jsx)("div",{className:"flex items-center gap-3 mt-2 text-sm text-gray-500",children:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(E.A,{className:"w-3.5 h-3.5"}),e.company]})}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-3",children:[e.linkedInUrl?(0,a.jsxs)("a",{href:e.linkedInUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-200 transition-colors",children:[(0,a.jsx)(Y.A,{className:"w-4 h-4"}),"LinkedIn",(0,a.jsx)(D.A,{className:"w-3 h-3 ml-1"})]}):(0,a.jsxs)("span",{className:"flex items-center gap-1 px-3 py-1.5 bg-gray-100 text-gray-400 rounded-lg text-sm",children:[(0,a.jsx)(Y.A,{className:"w-4 h-4"}),"No LinkedIn"]}),e.email?(0,a.jsxs)("span",{className:"flex items-center gap-1 px-3 py-1.5 bg-purple-100 text-purple-700 rounded-lg text-sm font-medium",children:[(0,a.jsx)(Z.A,{className:"w-4 h-4"}),e.email]}):(0,a.jsxs)("span",{className:"flex items-center gap-1 px-3 py-1.5 bg-gray-100 text-gray-400 rounded-lg text-sm",children:[(0,a.jsx)(Z.A,{className:"w-4 h-4"}),"No Email"]}),e.phone&&(0,a.jsxs)("span",{className:"flex items-center gap-1 px-3 py-1.5 bg-gray-100 text-gray-600 rounded-lg text-sm",children:[(0,a.jsx)(X.A,{className:"w-4 h-4"}),e.phone]})]}),t&&(0,a.jsxs)("div",{className:"mt-3 text-xs text-gray-500",children:["Hiring for: ",(0,a.jsx)("span",{className:"font-medium text-gray-700",children:t.title})]})]})}),!s&&(0,a.jsx)("button",{onClick:()=>{u(e.id),x({name:e.name,title:e.title,linkedInUrl:e.linkedInUrl,email:e.email,phone:e.phone})},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Edit Contact",children:(0,a.jsx)($.A,{className:"w-4 h-4 text-gray-500"})})]})},e.id)})})]}),0===h.length&&g.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[(0,a.jsx)(c.A,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Extract Contacts"}),(0,a.jsxs)("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:["You have ",g.length,' qualified jobs. Click "Extract from Job Posters" to pull contact information.']}),(0,a.jsxs)("button",{onClick:f,className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors",children:[(0,a.jsx)(K.A,{className:"w-5 h-5"}),"Extract Contacts"]})]}),h.filter(e=>e.linkedInUrl||e.email).length>0&&(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("button",{onClick:l,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:["Continue with ",h.filter(e=>e.linkedInUrl||e.email).length," Contacts"]})})]})}var et=s(5426),es=s(7586);function ea(){let{currentRun:e,addMessages:t,updateMessage:s,approveMessage:r,approveAllMessages:l,updateStepStatus:i,goToNextStep:o}=p(),{businessContext:c}=(0,g.C)(),[u,m]=(0,n.useState)(!1),[x,h]=(0,n.useState)(null),[b,f]=(0,n.useState)(""),[y,j]=(0,n.useState)(null),v=(null==e?void 0:e.enrichData.contacts)||[],w=(null==e?void 0:e.qualifyData.qualifiedJobs)||[],k=(null==e?void 0:e.composeData.messages)||[],S=v.filter(e=>e.linkedInUrl||e.email),C=(e,t,s)=>{var a;let n=new Date,r=new Date(n);"2nd_followup"===s?r.setDate(r.getDate()+3):"3rd_followup"===s?r.setDate(r.getDate()+7):"final_touch"===s&&r.setDate(r.getDate()+14);let l=(t.techStack||[]).join(", ")||"software development",i=[];if((null==(a=t.poster)?void 0:a.name)===e.name&&i.push("Posted the ".concat(t.title," role")),t.isRemote&&i.push("Remote position"),t.postedDate){let e=Math.floor((Date.now()-new Date(t.postedDate).getTime())/864e5);i.push("Posted ".concat(e," days ago"))}let o="";return o="1st_touch"===s?"Hi ".concat(e.name.split(" ")[0],",\n\nI noticed ").concat(e.company," is hiring for a ").concat(t.title,". ").concat(c.companyName?"At ".concat(c.companyName,", we"):"We"," provide pre-vetted ").concat(l," developers who can start in 1-2 weeks.\n\n").concat(c.valueProps[0]||"Our developers go through rigorous vetting so you don't have to interview dozens of candidates.","\n\nWould you be open to a quick chat about your hiring needs? I'd be happy to share some relevant profiles.\n\nBest,\n").concat(c.senderName||"[Your Name]"):"2nd_followup"===s?"Hi ".concat(e.name.split(" ")[0],",\n\nFollowing up on my note about the ").concat(t.title," role at ").concat(e.company,".\n\nWe just placed a senior ").concat((t.techStack||["developer"])[0]," engineer with a similar role - thought it might be relevant to your search.\n\nWould you have 15 mins this week for a quick call?\n\n").concat(c.senderName||"[Your Name]"):"3rd_followup"===s?"Hi ".concat(e.name.split(" ")[0],",\n\nLast check-in on the ").concat(t.title," position. I have 2-3 strong candidates who match your requirements and are available now.\n\nIf timing isn't right, no worries - just let me know and I won't follow up further.\n\n").concat(c.senderName||"[Your Name]"):"Hi ".concat(e.name.split(" ")[0],",\n\nFinal note on your ").concat(t.title," search. Happy to reconnect whenever you're actively looking for ").concat(l," talent.\n\n").concat(c.senderName||"[Your Name]"),{id:crypto.randomUUID(),contactId:e.id,jobId:t.id,sequenceStep:s,channel:e.email?"both":"linkedin",subject:"1st_touch"===s?"Re: ".concat(t.title," at ").concat(e.company):"Quick follow-up - ".concat(t.title),message:o,personalizationFacts:i,suggestedSendDate:r.toISOString().split("T")[0],status:"draft",createdAt:n.toISOString()}},R=async()=>{m(!0),await new Promise(e=>setTimeout(e,2e3));let e=[];S.forEach(t=>{let s=w.find(e=>e.id===t.jobId);s&&(k.some(e=>e.contactId===t.id)||(e.push(C(t,s,"1st_touch")),e.push(C(t,s,"2nd_followup")),e.push(C(t,s,"3rd_followup"))))}),t(e),i("compose","completed"),m(!1)},A=()=>{x&&(s(x,{message:b}),h(null),f(""))},D=k.reduce((e,t)=>(e[t.contactId]||(e[t.contactId]=[]),e[t.contactId].push(t),e),{}),I=k.filter(e=>"approved"===e.status).length,L=k.filter(e=>"draft"===e.status).length;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"w-5 h-5 text-amber-600"}),"Compose Messages"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[k.length>0&&L>0&&(0,a.jsxs)("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-green-100 text-green-700 rounded-lg font-medium hover:bg-green-200 transition-colors",children:[(0,a.jsx)(N.A,{className:"w-4 h-4"}),"Approve All (",L,")"]}),(0,a.jsxs)("button",{onClick:R,disabled:u||0===S.length,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ".concat(u?"bg-amber-100 text-amber-600":"bg-amber-600 text-white hover:bg-amber-700"),children:[(0,a.jsx)(K.A,{className:"w-4 h-4 ".concat(u?"animate-pulse":"")}),u?"Generating...":k.length>0?"Regenerate":"Generate Messages"]})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Generate personalized outreach messages for each contact. Messages are tailored based on your business context and the job details."}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:S.length}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Contacts"})]}),(0,a.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-amber-600",children:k.length}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Messages"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-600",children:L}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Drafts"})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:I}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Approved"})]})]})]}),Object.keys(D).length>0&&(0,a.jsx)("div",{className:"space-y-6",children:Object.entries(D).map(e=>{let t,[s,n]=e,l=v.find(e=>e.id===s),i=l?(t=l.jobId,w.find(e=>e.id===t)):void 0;return l?(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:l.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[l.title," at ",l.company]}),i&&(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Hiring for: ",i.title]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[l.linkedInUrl&&(0,a.jsxs)("span",{className:"flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:[(0,a.jsx)(Y.A,{className:"w-3 h-3"}),"LinkedIn"]}),l.email&&(0,a.jsxs)("span",{className:"flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs",children:[(0,a.jsx)(Z.A,{className:"w-3 h-3"}),"Email"]})]})]})}),(0,a.jsx)("div",{className:"divide-y divide-gray-100",children:n.map(e=>{let t=x===e.id,s=y===e.id;return(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("1st_touch"===e.sequenceStep?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"),children:"1st_touch"===e.sequenceStep?"1st Touch":"2nd_followup"===e.sequenceStep?"2nd Follow-up":"3rd_followup"===e.sequenceStep?"3rd Follow-up":"Final Touch"}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:e.suggestedSendDate}),"approved"===e.status&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-green-600 text-xs",children:[(0,a.jsx)(q.A,{className:"w-3 h-3"}),"Approved"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:!t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e.message),j(e.id),setTimeout(()=>j(null),2e3)},className:"p-1.5 rounded transition-colors ".concat(s?"bg-green-100 text-green-600":"hover:bg-gray-100 text-gray-500"),title:"Copy",children:s?(0,a.jsx)(N.A,{className:"w-4 h-4"}):(0,a.jsx)(et.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>{h(e.id),f(e.message)},className:"p-1.5 hover:bg-gray-100 rounded text-gray-500",title:"Edit",children:(0,a.jsx)($.A,{className:"w-4 h-4"})}),"approved"!==e.status&&(0,a.jsx)("button",{onClick:()=>r(e.id),className:"p-1.5 hover:bg-green-100 rounded text-gray-500 hover:text-green-600",title:"Approve",children:(0,a.jsx)(N.A,{className:"w-4 h-4"})})]})})]}),t?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("textarea",{value:b,onChange:e=>f(e.target.value),rows:8,className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm resize-none"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("button",{onClick:A,className:"flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700",children:[(0,a.jsx)(V.A,{className:"w-4 h-4"}),"Save"]}),(0,a.jsxs)("button",{onClick:()=>h(null),className:"flex items-center gap-1 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200",children:[(0,a.jsx)(z.A,{className:"w-4 h-4"}),"Cancel"]})]})]}):(0,a.jsx)("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans bg-gray-50 rounded-lg p-3",children:e.message})]},e.id)})})]},s):null})}),0===k.length&&S.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[(0,a.jsx)(es.A,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Generate Messages"}),(0,a.jsxs)("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:["Create personalized outreach messages for your ",S.length," contacts."]}),(0,a.jsxs)("button",{onClick:R,className:"inline-flex items-center gap-2 px-6 py-3 bg-amber-600 text-white rounded-lg font-medium hover:bg-amber-700 transition-colors",children:[(0,a.jsx)(K.A,{className:"w-5 h-5"}),"Generate Messages"]})]}),I>0&&(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("button",{onClick:o,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:["Continue with ",I," Approved Messages"]})})]})}let en=!1,er=!1;async function el(){return new Promise((e,t)=>{if(window.gapi)return e();let s=document.createElement("script");s.src="https://apis.google.com/js/api.js",s.async=!0,s.defer=!0,s.onload=()=>{window.gapi.load("client",async()=>{await window.gapi.client.init({discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"]}),en=!0,er&&e()})},s.onerror=t,document.body.appendChild(s);let a=document.createElement("script");a.src="https://accounts.google.com/gsi/client",a.async=!0,a.defer=!0,a.onload=()=>{er=!0,en&&e()},a.onerror=t,document.body.appendChild(a)})}async function ei(e){if(!e)throw Error("Google Client ID is missing. Please add it in Settings > Integrations.");return await el(),new Promise(t=>{window.google.accounts.oauth2.initTokenClient({client_id:e,scope:"https://www.googleapis.com/auth/spreadsheets",callback:async e=>{if(e.error)throw e;t(e.access_token)}}).requestAccessToken({prompt:"consent"})})}async function eo(e,t,s){if(!en)throw Error("Google API not initialized");try{return await window.gapi.client.sheets.spreadsheets.values.append({spreadsheetId:e,range:t,valueInputOption:"USER_ENTERED",resource:{values:s}})}catch(e){throw console.error("Error appending to sheet:",e),e}}var ec=s(1669),ed=s(9867),eu=s(9347),em=s(6983);function ex(){let{currentRun:e,generateExportRows:t,markExported:s,updateStepStatus:r}=p(),{integrations:l}=(0,g.C)(),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[m,x]=(0,n.useState)(null),[h,b]=(0,n.useState)(null),f=(null==e?void 0:e.exportData.rows)||[];null==e||e.exportData.exportedAt;let y=l.googleSheets.enabled?l.googleSheets.spreadsheetId:"",j=async()=>{o(!0),await new Promise(e=>setTimeout(e,1e3)),t(),r("export","completed"),o(!1)},v=()=>({headers:["Status","Priority","Sequence Step","Channel","Contact Name","Contact Title","Company","LinkedIn URL","Email","Job Title Hiring","Tech Stack","Message","Personalization Notes","Job Post URL","Suggested Send Date","Sent Date","Response","Notes"],dataRows:f.map(e=>[e.status,e.priority,e.sequenceStep,e.channel,e.contactName,e.contactTitle,e.company,e.linkedInUrl,e.email,e.jobTitle,e.techStack,e.message,e.personalizationNotes,e.jobPostUrl,e.suggestedSendDate,e.sentDate||"",e.response||"",e.notes||""])}),w=async()=>{if(!l.googleSheets.clientId)return void b("Missing Google Client ID. Please configure it in Settings.");if(!y)return void b("Missing Spreadsheet ID. Please configure it in Settings.");o(!0),b(null);try{await ei(l.googleSheets.clientId);let{headers:e,dataRows:t}=v();await eo(y,"Sheet1!A1",t),s(),d(!0)}catch(e){console.error(e),b(e.message||"Failed to export to Google Sheets")}finally{o(!1)}},k=new Set(f.map(e=>e.contactName)).size,S=f.filter(e=>"LinkedIn"===e.channel||"LI+Email"===e.channel),C=f.filter(e=>"Email"===e.channel||"LI+Email"===e.channel);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"w-5 h-5 text-green-600"}),"Export SDR Action Sheet"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[0===f.length&&(0,a.jsxs)("button",{onClick:j,disabled:i,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ".concat(i?"bg-blue-100 text-blue-600":"bg-blue-600 text-white hover:bg-blue-700"),children:[i?(0,a.jsx)(H.A,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(ec.A,{className:"w-4 h-4"}),i?"Generating...":"Generate Table"]}),f.length>0&&(0,a.jsx)("div",{className:"flex gap-2",children:l.googleSheets.enabled?(0,a.jsxs)("button",{onClick:w,disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50",children:[i?(0,a.jsx)(H.A,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(D.A,{className:"w-4 h-4"}),i?"Exporting...":"Update Google Sheet"]}):(0,a.jsxs)("button",{onClick:()=>{if(0===f.length)return;let{headers:e,dataRows:t}=v(),a=t.map(e=>e.map(e=>{let t=String(e);return t.includes(",")||t.includes('"')||t.includes("\n")?'"'.concat(t.replace(/"/g,'""'),'"'):t})),n=new Blob([[e.join(","),...a.map(e=>e.join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),l=document.createElement("a");l.href=r,l.download="outreach_campaign_".concat(new Date().toISOString().split("T")[0],".csv"),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(r),s(),d(!0)},className:"flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition-colors",children:[(0,a.jsx)(ed.A,{className:"w-4 h-4"}),"Download CSV"]})})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:l.googleSheets.enabled?"Export directly to your configured Google Sheet. Ensure you have added the Client ID and Spreadsheet ID in Settings.":"Generate a CSV file formatted for your SDR team. Each row contains everything needed to send a message."}),f.length>0&&(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:k}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Contacts"})]}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:f.length}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Total Messages"})]}),(0,a.jsxs)("div",{className:"bg-indigo-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-indigo-600",children:S.length}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"LinkedIn"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:C.length}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Email"})]})]}),h&&(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-red-600 bg-red-50 px-4 py-3 rounded-lg text-sm",children:[(0,a.jsx)("span",{className:"font-bold",children:"Error:"})," ",h]}),c&&(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-green-600 bg-green-50 px-4 py-3 rounded-lg",children:[(0,a.jsx)(q.A,{className:"w-5 h-5"}),l.googleSheets.enabled?"Google Sheet updated successfully!":"CSV downloaded successfully!"]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-gray-900",children:["Preview (",f.length," rows)"]}),(0,a.jsxs)("button",{onClick:()=>{let e=f.map(e=>"--- ".concat(e.contactName," (").concat(e.company,") ---\n").concat(e.message,"\n")).join("\n");navigator.clipboard.writeText(e)},className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900",children:[(0,a.jsx)(et.A,{className:"w-4 h-4"}),"Copy All Messages"]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Priority"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Step"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Contact"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Company"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Links"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Job"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Send Date"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===f.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:9,className:"px-4 py-16 text-center text-gray-500",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)(u.A,{className:"w-12 h-12 text-gray-200 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Populate"}),(0,a.jsx)("p",{className:"max-w-md mx-auto mb-6 text-gray-500",children:"Click Generate Table to fill this preview with your campaign data."}),(0,a.jsxs)("button",{onClick:j,disabled:i,className:"flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all ".concat(i?"bg-blue-100 text-blue-600":"bg-blue-600 text-white hover:bg-blue-700"),children:[i?(0,a.jsx)(H.A,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(ec.A,{className:"w-4 h-4"}),i?"Generating...":"Generate Table"]})]})})}):f.slice(0,20).map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"text-lg",children:e.status.split(" ")[0]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 ".concat(e.priority.includes("High")?"text-amber-600":"text-gray-500"),children:[e.priority.includes("High")&&(0,a.jsx)(eu.A,{className:"w-3 h-3 fill-current"}),e.priority.replace("⭐ ","")]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("1st Touch"===e.sequenceStep?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600"),children:e.sequenceStep})}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.contactName}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:e.contactTitle})]}),(0,a.jsx)("td",{className:"px-4 py-3 text-gray-700",children:e.company}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.linkedInUrl&&(0,a.jsx)("a",{href:e.linkedInUrl,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200 transition-colors",title:"Open LinkedIn",children:(0,a.jsx)(Y.A,{className:"w-4 h-4"})}),e.email&&(0,a.jsx)("a",{href:"mailto:".concat(e.email),className:"p-1.5 bg-purple-100 text-purple-600 rounded hover:bg-purple-200 transition-colors",title:e.email,children:(0,a.jsx)(Z.A,{className:"w-4 h-4"})})]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("div",{className:"text-gray-700 text-xs max-w-[150px] truncate",title:e.jobTitle,children:e.jobTitle})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("span",{className:"flex items-center gap-1 text-gray-500 text-xs",children:[(0,a.jsx)(em.A,{className:"w-3 h-3"}),e.suggestedSendDate]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("button",{onClick:()=>(e=>{let t=f[e],s="".concat(t.contactName," | ").concat(t.company," | ").concat(t.linkedInUrl||t.email,"\n\n").concat(t.message);navigator.clipboard.writeText(s),x(e),setTimeout(()=>x(null),2e3)})(t),className:"p-1.5 rounded transition-colors ".concat(m===t?"bg-green-100 text-green-600":"hover:bg-gray-100 text-gray-500"),title:"Copy contact info + message",children:m===t?(0,a.jsx)(N.A,{className:"w-4 h-4"}):(0,a.jsx)(et.A,{className:"w-4 h-4"})})})]},t))})]})}),f.length>20&&(0,a.jsxs)("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200 text-center text-sm text-gray-500",children:["Showing 20 of ",f.length," rows. Download CSV to see all."]})]}),f.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Sample Message Preview"}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:f[0].contactName}),(0,a.jsx)("span",{className:"text-gray-400",children:"•"}),(0,a.jsx)("span",{className:"text-gray-500",children:f[0].company})]}),(0,a.jsx)("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap font-sans",children:f[0].message})]})]})]})}function ep(){let[e,t]=(0,n.useState)(!1),{currentRun:s,mode:r,setMode:l,createNewRun:i,goToNextStep:o,goToPrevStep:c,resetCurrentRun:d}=p(),{businessContext:u}=(0,g.C)();if((0,n.useEffect)(()=>{t(!0)},[]),(0,n.useEffect)(()=>{e&&!s&&i("Campaign "+new Date().toLocaleDateString())},[e,s,i]),!e||!s)return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-pulse text-gray-400",children:"Loading..."})});let x=m.findIndex(e=>e.id===s.currentStep),k=m[x],C=0===x,R=x===m.length-1,A=!u.companyName||0===Object.values(u.techStack).flat().length;return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,a.jsx)("header",{className:"bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-20",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"S"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Siema Outreach"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:s.name})]})]}),(0,a.jsxs)("div",{className:"bg-gray-100 p-1 rounded-lg flex items-center border border-gray-200 ml-4",children:[(0,a.jsxs)("button",{onClick:()=>l("build"),className:"px-3 py-1.5 rounded-md text-sm font-medium transition-all flex items-center gap-1.5 ".concat("build"===r?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"),children:[(0,a.jsx)(h.A,{className:"w-4 h-4"}),"Build"]}),(0,a.jsxs)("button",{onClick:()=>l("run"),className:"px-3 py-1.5 rounded-md text-sm font-medium transition-all flex items-center gap-1.5 ".concat("run"===r?"bg-blue-600 text-white shadow-sm":"text-gray-500 hover:text-gray-700"),children:[(0,a.jsx)(b.A,{className:"w-4 h-4"}),"Run"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm mr-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Jobs"}),(0,a.jsx)("p",{className:"font-bold text-gray-900",children:s.sourceData.jobs.length})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Qualified"}),(0,a.jsx)("p",{className:"font-bold text-green-600",children:s.qualifyData.qualifiedJobs.length})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Contacts"}),(0,a.jsx)("p",{className:"font-bold text-gray-900",children:s.enrichData.contacts.length})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Messages"}),(0,a.jsx)("p",{className:"font-bold text-gray-900",children:s.composeData.messages.length})]})]}),(0,a.jsx)(S(),{href:"/settings",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Settings",children:(0,a.jsx)(h.A,{className:"w-5 h-5 text-gray-500"})}),(0,a.jsx)("button",{onClick:d,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Reset Campaign",children:(0,a.jsx)(f.A,{className:"w-5 h-5 text-gray-500"})}),(0,a.jsxs)("button",{onClick:()=>i(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),"New Campaign"]})]})]})}),A&&(0,a.jsx)("div",{className:"bg-amber-50 border-b border-amber-200 px-6 py-3",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-amber-800 text-sm",children:["⚠️ Please configure your ",(0,a.jsx)("strong",{children:"Business Context"})," and ",(0,a.jsx)("strong",{children:"Tech Stack"})," in Settings before running campaigns."]}),(0,a.jsxs)(S(),{href:"/settings",className:"text-amber-700 font-medium text-sm hover:underline flex items-center gap-1",children:["Open Settings ",(0,a.jsx)(j.A,{className:"w-4 h-4"})]})]})}),(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:m.map((e,t)=>{let n=e.id===s.currentStep,r="completed"===s.steps[e.id].status,l=e.icon;return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("button",{onClick:()=>p.getState().setCurrentStep(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all ".concat(n?"bg-blue-600 text-white shadow-md":r||t<x?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"),children:[r?(0,a.jsx)(N.A,{className:"w-4 h-4"}):(0,a.jsx)(l,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:e.label})]}),t<m.length-1&&(0,a.jsx)(j.A,{className:"w-5 h-5 text-gray-300 mx-1"})]},e.id)})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:c,disabled:C,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ".concat(C?"bg-gray-100 text-gray-300 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,a.jsx)(v.A,{className:"w-4 h-4"}),"Back"]}),(0,a.jsxs)("button",{onClick:o,disabled:R,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ".concat(R?"bg-gray-100 text-gray-300 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:["Next",(0,a.jsx)(w.A,{className:"w-4 h-4"})]})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:k.color}}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:k.description})]})]})}),(0,a.jsx)("main",{className:"flex-1 overflow-auto",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto py-6 px-6",children:["source"===s.currentStep&&(0,a.jsx)(U,{}),"qualify"===s.currentStep&&(0,a.jsx)(Q,{}),"enrich"===s.currentStep&&(0,a.jsx)(ee,{}),"compose"===s.currentStep&&(0,a.jsx)(ea,{}),"export"===s.currentStep&&(0,a.jsx)(ex,{})]})})]})}}},e=>{e.O(0,[587,776,441,255,358],()=>e(e.s=6382)),_N_E=e.O()}]);